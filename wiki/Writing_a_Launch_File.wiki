#summary How to write a launch file for your motor.

= Writing a Launch File =
While it is possible to run the EposManager from the command line through rosrun, the easiest way by far is from a launch file. Here, you will learn how to write a launch file to control any number of EPOS' in a chain.

Assuming you have already followed the previous tutorials and created your parameter files, create a new directory called "launch". In the directory, create a new launch file named "MyMotorTest.launch". Finally, copy the sample launch file below into "MyMotorTest.launch".

== Sample Launch File ==
{{{
<launch>
	<rosparam command="load" file="$(find epos_tutorials)/params/MyEpos.yaml" ns="motors" />

	<node name="NewEpos" pkg="EposManager" type="EposManager" args="MyEpos" ns="motors" output="screen" >
		<param name="Port" value="USB0" />
		<param name="Protocol" value="USB" />
		<param name="Publish_Rate" value="10" />
		<param name="Heartbeat" value="false" />
		<param name="Max_Heartbeat_Attempts" value="20" />
		<param name="Heartbeat_Rate" value="2" />
	</node>
</launch>
}}}

==The Launch File Explained ==
While this launch file may look complicated, it is actually very simple and straightforward. Below is a breakdown of the code.

{{{	
<rosparam command="load" file="$(find epos_tutorials)/params/MyEpos.yaml" ns="motors/MyEpos" /> 
}}}

This line loads the parameters from the given parameter file into a specific namespace. The "`$(find epos_tutorials)`" portion of the line uses the ROS file-system to find the absolute path of the given package, in this case "epos_tutorials". From there, you specify the relative path to the parameter file you are loading into the namespace. The namespace is specified by "ns="motors/MyEpos". The "motors" before the "MyEpos" is solely for organizational purposes, it can be removed or expanded. The MyEpos (or whatever name you wish to belong to each specific EPOS) is mandatory and must be unique. You cannot have two EPOS's in the same namespace or their parameters will overwrite each other.

